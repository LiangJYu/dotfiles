ISCE_DIR=isce3_$1
ISCE_ENV=ISCE3_$1
ISCE_SRC=${HOME}/src/${ISCE_DIR}
ISCE_INSTALL=${ISCE_SRC}/build/install

# colorful ctest for gtest
export GTEST_COLOR=1

# set paths
export PATH=${HOME}/miniconda3/bin:$PATH:${ISCE_INSTALL}/bin
export PYTHONPATH=$PYTHONPATH:${ISCE_INSTALL}/packages
export LD_LIBRARY_PATH=${HOME}/miniconda3/envs/$ISCE_ENV/lib:$LD_LIBRARY_PATH:${ISCE_INSTALL}/lib

# for CUDA
export CUDACXX=nvcc

# for CUDA debugging
export CUDA_DEBUGGER_SOFTWARE_PREEMPTION=1

# https://stackoverflow.com/questions/50555973/qgtkstyle-could-not-resolve-gtk
export QT_STYLE_OVERRIDE=gtk2

# set conda environment
conda activate ISCE3_$1

# ensure CONDA and not root GDAL is used
export GDAL_ROOT=$CONDA_PREFIX

# alias for CMake ISCE
alias isce_cmake='cmake -DCMAKE_INSTALL_PREFIX=${ISCE_INSTALL} ${ISCE_SRC}'
alias isce_cmake_dbg='cmake -DCMAKE_INSTALL_PREFIX=${ISCE_INSTALL} ${ISCE_SRC} -DCMAKE_BUILD_TYPE=Debug'
alias isce_gpu_cmake='cmake -DCMAKE_INSTALL_PREFIX=${ISCE_INSTALL} -DWITH_CUDA=ON ${ISCE_SRC}'
alias isce_gpu_cmake_dbg='cmake -DCMAKE_INSTALL_PREFIX=${ISCE_INSTALL} -DWITH_CUDA=ON ${ISCE_SRC} -DCMAKE_BUILD_TYPE=Debug'
